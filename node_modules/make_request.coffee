http = require('http')
host_ip = 'localhost'
makeRequest = (json, url="/",dest_port=3000) ->
  #setup
  # console.log(json)
  body = JSON.stringify(json)
  options = {host:host_ip, port:dest_port, path:url, method: 'POST', headers: {
    "Content-Type": "application/json",
    "Content-Length": body.length}}
  #write json and close stream
  request = http.request(options).on('error', (e)->console.log('error posting: '+e) )
#  console.log(body)
  request.end(body)

module.exports = makeRequest
